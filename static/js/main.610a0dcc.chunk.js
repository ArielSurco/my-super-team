(this["webpackJsonpreact-superheroes-api"]=this["webpackJsonpreact-superheroes-api"]||[]).push([[0],{206:function(e,t,n){},226:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},367:function(e,t,n){},368:function(e,t,n){},369:function(e,t,n){},370:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){},375:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(71),r=n.n(c),i=(n(206),n(26)),o=n(18),l=n(14),d=n(121),u=n.n(d),j=function(e,t){var n=s.a.useState(t),a=Object(l.a)(n,2),c=a[0],r=a[1];s.a.useEffect((function(){var n,a=localStorage.getItem(e);a?n=JSON.parse(a):(localStorage.setItem(e,JSON.stringify(t)),n=t),r(n)}),[]);return[c,function(t){var n=JSON.stringify(t);localStorage.setItem(e,n),r(t)}]},h=n(67),m=n(1),b=s.a.createContext(),f=function(e){var t=e.children,n=j("team",[]),a=Object(l.a)(n,2),c=a[0],r=a[1],i=s.a.useState([]),o=Object(l.a)(i,2),d=o[0],u=o[1],f=function(e){var t=e.filter((function(e){return"good"===e.biography.alignment})),n=e.filter((function(e){return"bad"===e.biography.alignment})),a=e.length<=6&&t.length<=3&&n.length<=3;return e.length>6?p("The team is full","error"):t.length>3?p("Limit of heroes with good orientation reached","error"):n.length>3&&p("Limit of heroes with bad orientation reached","error"),a},p=function(e,t){var n=Object(h.a)(d);n.push({message:e,type:t}),u(n)};return Object(m.jsx)(b.Provider,{value:{team:c,canBeAdded:f,addHero:function(e){var t=Object(h.a)(c);t.push(e),f(t)&&(r(t),p("Hero added successfully","success"))},deleteHero:function(e){var t=c.findIndex((function(t){return t.id===e})),n=Object(h.a)(c);n.splice(t,1),r(n)},alerts:d,addAlert:p,removeAlert:function(e){var t=d.filter((function(t){return t.message!==e}));u(t)}},children:t})},p=function(){var e=Object(a.useContext)(b).addAlert,t=localStorage.getItem("session"),n=t?JSON.parse(t):{token:"",isAuth:!1},s=j("session",n),c=Object(l.a)(s,2),r=c[0],i=c[1];return{session:r,login:function(t){e("Successful login","success"),i({token:"1",isAuth:!0}),window.location.pathname="/"},logout:function(){i({token:"",isAuth:!1})}}},x=(n(226),function(){var e=p(),t=e.session,n=e.logout;return Object(m.jsx)("nav",{className:"navbar navbar-light navbar-expand-md bg-light fixed-top shadow p-3 mb-5 bg-white rounded",children:Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)(i.b,{className:"navbar-brand logo",to:"/",children:"MST"}),Object(m.jsx)("ul",{className:"navbar-nav ms-3",children:t.isAuth&&Object(m.jsx)("li",{onClick:n,children:Object(m.jsx)(i.b,{className:"nav-link",to:"/login",children:"Log out"})})})]})})}),O=(n(231),function(e){switch(e){case"success":return"bg-success";case"error":return"bg-danger";default:return null}}),g=function(e){var t=e.message,n=e.type,s=e.removeAlert;return Object(a.useLayoutEffect)((function(){setTimeout((function(){s(t)}),1e3)})),Object(m.jsxs)("div",{className:"alert d-flex align-items-center justify-content-between fixed-bottom m-0 ".concat(O(n)),children:[Object(m.jsx)("p",{className:"alert__text fs-3 fw-normal",children:t}),Object(m.jsx)("button",{className:"alert__btn",onClick:function(){return s(t)},children:Object(m.jsx)("i",{className:"btn__clear"})})]})},v=(n(232),function(e){var t=Object(a.useContext)(b),n=t.alerts,s=t.removeAlert;return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsx)(x,{}),e.children,0!==n.length&&n.map((function(e){return Object(m.jsx)(g,{message:e.message,type:e.type,removeAlert:s},e.message)}))]})}),N=n(377),w=n(378),y=n(382),k=n(189),S=n(190),I=n(197),A=function(e){var t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)},C=function(e){var t=e.labels,n=e.values,a=e.width,s=e.height,c=e.className,r=t.map((function(e,t){return{label:A(e),value:parseInt(n[t])}}));return Object(m.jsx)(N.a,{width:a,height:s,className:c,children:Object(m.jsxs)(w.a,{cx:"50%",cy:"50%",outerRadius:"85%",data:r,children:[Object(m.jsx)(y.a,{}),Object(m.jsx)(k.a,{dataKey:"label",fontWeight:"bold"}),Object(m.jsx)(S.a,{}),Object(m.jsx)(I.a,{dataKey:"value",stroke:"#8884e8",fill:"#8884d8",fillOpacity:.6,dot:!0})]})})},E=(n(367),function(e){var t=s.a.useContext(b),n=t.deleteHero,a=t.addHero,c=e.heroInfo,r=c.id,o=c.name,l=c.powerstats,d=c.image,u=Object.keys(l),j=Object.values(l);return Object(m.jsx)("div",{className:"col hero-container",children:Object(m.jsx)("div",{className:"hero-card shadow bg-light",children:Object(m.jsxs)("div",{className:"flip-card w-100",children:[Object(m.jsxs)("div",{className:"flip-card__front",children:[Object(m.jsx)("img",{className:"front__image",src:d.url,alt:o}),Object(m.jsx)("h2",{className:"hero-name fw-normal",children:o})]}),Object(m.jsxs)("div",{className:"flip-card__back",children:[Object(m.jsx)("h2",{className:"text-center mt-3",children:o}),Object(m.jsx)(C,{className:"mx-auto mt-5",width:"95%",height:"50%",labels:u,values:j}),Object(m.jsxs)("div",{className:"button-group row d-flex justify-content-around",children:[Object(m.jsx)(i.b,{to:"/search/".concat(r),className:"btn btn-primary col-4 fs-4",children:"Details"}),e.isSearching?Object(m.jsx)("button",{className:"btn btn-success col-4 fs-4",onClick:function(){return a(e.heroInfo)},children:"Add"}):Object(m.jsx)("button",{className:"btn btn-danger col-4 fs-4",onClick:function(){return n(r)},children:"Remove"})]})]})]})})})}),_=(n(368),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return e.map((function(e){return n(e[t])}))}),H=function(e){return e.reduce((function(e,t){return e+t}))/e.length},B=function(e){var t=e.filter((function(e){return e.includes("kg")})),n=e.filter((function(e){return e.includes("cm")}));return t.length>0?parseInt(t):n.length>0?parseInt(n):void 0},F=function(){var e=s.a.useContext(b).team,t=_(e,"powerstats"),n=0!==e.length?Object.keys(t[0]):[],a=n.map((function(e){return t.map((function(t){return parseInt(t[e])})).reduce((function(e,t){return e+t}))})),c=a.findIndex((function(e){return e===Math.max.apply(Math,Object(h.a)(a))})),r=_(_(e,"appearance"),"weight",B),i=_(_(e,"appearance"),"height",B);return Object(m.jsx)("div",{className:"team-info-container col-12 col-xl-10 col-xxl-9 accordion shadow justify-self-center",id:"teamInfoAccordion",children:Object(m.jsxs)("div",{className:"accordion-item ",children:[Object(m.jsx)("header",{className:"accordion-header",id:"headerTeamInfo",children:Object(m.jsx)("button",{className:"accordion-button collapsed fs-3 fw-bold fst-italic","data-bs-toggle":"collapse","data-bs-target":"#teamInfo","aria-expanded":"false","aria-controls":"teamInfo",children:"Team Information"})}),Object(m.jsx)("div",{className:"accordion-collapse collapse",id:"teamInfo","aria-labelledby":"headerTeamInfo","data-bs-parent":"#teamInfoAccordion",children:Object(m.jsx)("div",{className:"accordion-body",children:Object(m.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(m.jsx)("li",{className:"list-group-item",children:Object(m.jsxs)("p",{className:"fs-3 fw-bold",children:["Team Category:",Object(m.jsx)("span",{className:"fw-normal text-capitalize",children:" ".concat(0!==e.length?n[c]:"")})]})}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("header",{className:"fs-3 fw-bold",children:"Total Powerstats"}),Object(m.jsx)("div",{className:"container-fluid d-flex justify-content-around my-3 row row-cols-1 row-cols-sm-2 row-cols-lg-3",children:n.map((function(e,t){return Object(m.jsx)("div",{className:"info-value-item pt-3 px-4",children:Object(m.jsxs)("p",{className:"fs-4",children:[Object(m.jsxs)("span",{className:"fw-bold",children:[e,": "]}),a[t]]})},e)}))})]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("header",{className:"fs-3 fw-bold",children:"Averages"}),Object(m.jsxs)("div",{className:"container d-flex justify-content-around row row-cols-1 row-cols-sm-2 row-cols-lg-3",children:[Object(m.jsx)("div",{className:"info-value-item pt-3 px-4",children:Object(m.jsxs)("p",{className:"fs-4",children:[Object(m.jsx)("span",{className:"fw-bold",children:"Weight: "}),0!==e.length?H(r).toFixed():0,"kg"]})}),Object(m.jsx)("div",{className:"info-value-item pt-3 px-4",children:Object(m.jsxs)("p",{className:"fs-4",children:[Object(m.jsx)("span",{className:"fw-bold",children:"Height: "}),0!==e.length?H(i).toFixed():0,"cm"]})})]})]})]})})})]})})},T=(n(369),function(){var e=window.innerWidth<576,t=s.a.useContext(b),n=t.team,a=t.alerts,c=t.removeAlert;return s.a.useEffect((function(){a.forEach((function(e){c(e.message)}))})),Object(m.jsxs)("div",{className:"container-fluid home",children:[Object(m.jsx)(F,{}),0!==n.length&&n.length<6&&Object(m.jsxs)("p",{className:"fs-3 mt-3",children:[Object(m.jsx)(i.b,{to:"/search",className:"text-decoration-none",children:"Search"})," more heroes to add"]}),0!==n.length?Object(m.jsx)("div",{className:"mt-5 row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 justify-content-".concat(e?"center":"start"),children:n.map((function(e){return Object(m.jsx)(E,{heroInfo:e},e.name)}))}):Object(m.jsxs)("p",{className:"fs-3 mt-3",children:["Your team is empty, ",Object(m.jsx)(i.b,{to:"/search",className:"text-decoration-none",children:"search"})," a hero to add"]})]})}),L=n(99),V=(n(370),function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t}),J=function(){var e=p().login,t=Object(L.a)({initialValues:{email:"",password:""},validate:V,onSubmit:function(t){e(t)}});return Object(m.jsx)("div",{className:"login-form-container container d-flex justify-content-center align-items-center",children:Object(m.jsx)("form",{action:"",onSubmit:t.handleSubmit,className:"login-form shadow-lg p-3 mb-5 bg-light rounded",children:Object(m.jsxs)("div",{className:"form-row fs-1",children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(m.jsx)("input",{type:"text",className:"form-control fs-2 ".concat(t.touched.email&&t.errors.email?"is-invalid":null),name:"email",id:"email",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email,placeholder:"Email"}),Object(m.jsx)("div",{className:"invalid-feedback",children:t.errors.email})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("input",{type:"password",className:"form-control fs-2 ".concat(t.touched.password&&t.errors.password?"is-invalid":null),name:"password",id:"password",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.password,placeholder:"Password"}),Object(m.jsx)("div",{className:"invalid-feedback",children:t.errors.password})]}),Object(m.jsx)("button",{type:"submit",className:"w-100 mt-3 btn btn-primary fs-1 rounded",children:"Login"})]})})})},W=function(){return p().session.isAuth?Object(m.jsx)(o.a,{to:"/"}):Object(m.jsx)(J,{})},P=n(33),R=n.n(P),M=n(63),Z=(n(371),function(e){var t=e.searchHero,n=Object(L.a)({initialValues:{searchValue:""},onSubmit:function(e){t(e.searchValue)}});return Object(m.jsx)("form",{action:"",onSubmit:n.handleSubmit,children:Object(m.jsxs)("div",{className:"form-group d-flex justify-content-center",children:[Object(m.jsx)("input",{type:"text",className:"search-input d-inline-block form-control fs-2",id:"searchValue",name:"searchValue",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.searchValue,placeholder:"Search"}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary search-button",children:Object(m.jsx)("i",{className:"search-icon"})})]})})}),q=function(){var e=Object(M.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("".concat(t+n)).then((function(e){return e}));case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.error(new Error(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),K=(n(372),function(){var e=window.innerWidth<576,t=s.a.useState([]),n=Object(l.a)(t,2),a=n[0],c=n[1],r=s.a.useState(!0),o=Object(l.a)(r,2),d=o[0],u=o[1],j=s.a.useState(null),h=Object(l.a)(j,2),b=h[0],f=h[1];return s.a.useEffect((function(){var e=function(){var e=Object(M.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q("https://www.superheroapi.com/api.php/1972691609555893/search/",b).then((function(e){return e.data}));case 3:(t=e.sent).error||(c(t.results),u(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(new Error(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]),Object(m.jsxs)("div",{className:"container search-route",children:[Object(m.jsx)(Z,{searchHero:function(e){f(e)}}),Object(m.jsx)(i.b,{to:"/",className:"btn btn-primary fs-2 mt-3",children:"Check your team"}),Object(m.jsx)("div",{className:"mt-3 row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 justify-content-".concat(e?"center":"start"),children:!d&&a.map((function(e){return Object(m.jsx)(E,{isSearching:!0,heroInfo:e},e.id)}))})]})}),z=(n(373),function(e){var t=[];return e.forEach((function(n,a){a!==e.length-1?t.push(n+", "):t.push(n)})),t}),D=function(){var e=Object(o.g)().id,t=Object(a.useState)({}),n=Object(l.a)(t,2),s=n[0],c=s.name,r=s.biography,i=s.appearance,d=s.work,u=s.image,j=n[1],h=Object(a.useState)(!0),b=Object(l.a)(h,2),f=b[0],p=b[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(M.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"https://www.superheroapi.com/api.php/","1972691609555893",t.next=5,q("".concat("https://www.superheroapi.com/api.php/1972691609555893","/"),e);case 5:n=t.sent,j(n.data),p(!1),console.log(n.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(new Error(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(m.jsx)(a.Fragment,{children:f?Object(m.jsx)("p",{children:"Loading..."}):Object(m.jsx)("div",{className:"card hero-card shadow mt-5 w-75 m-auto",children:Object(m.jsxs)("div",{className:"row g-0",children:[Object(m.jsx)("div",{className:"col-md-4",children:Object(m.jsx)("img",{src:u.url,alt:c,className:"hero-image img-fluid rounded-start"})}),Object(m.jsx)("div",{className:"col-md-8",children:Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h1",{className:"card-title text-center",children:c}),Object(m.jsxs)("ul",{className:"information list-group list-group-flush",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Fullname:"})," ",r["full-name"]," "]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Aliases:"})," ",z(r.aliases)," "]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Workplace:"})," ",d.base," "]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Weight:"})," ",i.weight[1]," "]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Height:"})," ",i.height[1]," "]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Hair color:"})," ",i["hair-color"]," "]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("strong",{children:"Eye color:"})," ",i["eye-color"]," "]})]})]})})]})})})},U=function(){return Object(m.jsx)("p",{className:"fw-bold fs-1 mt-3 mx-5",children:"Error 404: Not Found"})},Y=n(196),$=function(e){return p().session.isAuth?Object(m.jsx)(o.b,Object(Y.a)({},e)):Object(m.jsx)(o.a,{to:"/login"})},G=function(){return Object(m.jsx)(f,{children:Object(m.jsx)(i.a,{basename:"/my-super-team",children:Object(m.jsx)(v,{children:Object(m.jsxs)(o.d,{children:[Object(m.jsx)($,{path:"/search/:id",component:D}),Object(m.jsx)($,{path:"/search",component:K}),Object(m.jsx)(o.b,{path:"/login",component:W}),Object(m.jsx)($,{exact:!0,path:"/",component:T}),Object(m.jsx)(o.b,{component:U})]})})})})};n(374);r.a.render(Object(m.jsx)(G,{}),document.getElementById("root"))}},[[375,1,2]]]);
//# sourceMappingURL=main.610a0dcc.chunk.js.map